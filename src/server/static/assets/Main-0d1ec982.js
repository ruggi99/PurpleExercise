(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function k(){}function ie(e,t){for(const n in t)e[n]=t[n];return e}function ee(e){return e()}function W(){return Object.create(null)}function q(e){e.forEach(ee)}function te(e){return typeof e=="function"}function le(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function fe(e){return Object.keys(e).length===0}function ce(e,t,n,r){if(e){const o=ne(e,t,n,r);return e[0](o)}}function ne(e,t,n,r){return e[1]&&r?ie(n.ctx.slice(),e[1](r(t))):n.ctx}function ue(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],f=Math.max(t.dirty.length,o.length);for(let c=0;c<f;c+=1)i[c]=t.dirty[c]|o[c];return i}return t.dirty|o}return t.dirty}function ae(e,t,n,r,o,i){if(o){const f=ne(t,n,r,i);e.p(f,o)}}function de(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function b(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode&&e.parentNode.removeChild(e)}function x(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function A(){return w(" ")}function _e(){return w("")}function $(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function pe(e){return Array.from(e.childNodes)}function F(e,t){t=""+t,e.data!==t&&(e.data=t)}function C(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let V;function I(e){V=e}const N=[],X=[];let P=[];const Y=[],me=Promise.resolve();let J=!1;function he(){J||(J=!0,me.then(re))}function Q(e){P.push(e)}const H=new Set;let S=0;function re(){if(S!==0)return;const e=V;do{try{for(;S<N.length;){const t=N[S];S++,I(t),ge(t.$$)}}catch(t){throw N.length=0,S=0,t}for(I(null),N.length=0,S=0;X.length;)X.pop()();for(let t=0;t<P.length;t+=1){const n=P[t];H.has(n)||(H.add(n),n())}P.length=0}while(N.length);for(;Y.length;)Y.pop()();J=!1,H.clear(),I(e)}function ge(e){if(e.fragment!==null){e.update(),q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}function ye(e){const t=[],n=[];P.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),P=t}const K=new Set;let j;function oe(){j={r:0,c:[],p:j}}function se(){j.r||q(j.c),j=j.p}function E(e,t){e&&e.i&&(K.delete(e),e.i(t))}function z(e,t,n,r){if(e&&e.o){if(K.has(e))return;K.add(e),j.c.push(()=>{K.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Pe(e){e&&e.c()}function be(e,t,n,r){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),r||Q(()=>{const f=e.$$.on_mount.map(ee).filter(te);e.$$.on_destroy?e.$$.on_destroy.push(...f):q(f),e.$$.on_mount=[]}),i.forEach(Q)}function we(e,t){const n=e.$$;n.fragment!==null&&(ye(n.after_update),q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ve(e,t){e.$$.dirty[0]===-1&&(N.push(e),he(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $e(e,t,n,r,o,i,f,c=[-1]){const _=V;I(e);const s=e.$$={fragment:null,ctx:[],props:i,update:k,not_equal:o,bound:W(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(_?_.$$.context:[])),callbacks:W(),dirty:c,skip_bound:!1,root:t.target||_.$$.root};f&&f(s.root);let d=!1;if(s.ctx=n?n(e,t.props||{},(u,O,...p)=>{const g=p.length?p[0]:O;return s.ctx&&o(s.ctx[u],s.ctx[u]=g)&&(!s.skip_bound&&s.bound[u]&&s.bound[u](g),d&&ve(e,u)),O}):[],s.update(),d=!0,q(s.before_update),s.fragment=r?r(s.ctx):!1,t.target){if(t.hydrate){const u=pe(t.target);s.fragment&&s.fragment.l(u),u.forEach(m)}else s.fragment&&s.fragment.c();t.intro&&E(e.$$.fragment),be(e,t.target,t.anchor,t.customElement),re()}I(_)}class xe{$destroy(){we(this,1),this.$destroy=k}$on(t,n){if(!te(n))return k;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!fe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(e){let t,n,r,o,i;const f=[je,Oe,ke],c=[];function _(s,d){return s[0].game_ended?0:s[0].start_time==0?1:2}return n=_(e),r=c[n]=f[n](e),{c(){t=A(),r.c(),o=_e()},m(s,d){h(s,t,d),c[n].m(s,d),h(s,o,d),i=!0},p(s,d){let u=n;n=_(s),n===u?c[n].p(s,d):(oe(),z(c[u],1,1,()=>{c[u]=null}),se(),r=c[n],r?r.p(s,d):(r=c[n]=f[n](s),r.c()),E(r,1),r.m(o.parentNode,o))},i(s){i||(E(r),i=!0)},o(s){z(r),i=!1},d(s){s&&m(t),c[n].d(s),s&&m(o)}}}function ke(e){let t,n,r=e[0].points+"",o,i,f=e[0].initial_points+"",c,_,s,d,u,O,p,g,B,T,R,L,D,M,U,v;const G=e[5].default,y=ce(G,e,e[4],null);return{c(){t=x("p"),n=w("Score: "),o=w(r),i=w("/"),c=w(f),_=A(),s=x("p"),d=w("Progress: "),u=w(e[1]),O=w("%"),p=A(),g=x("p"),B=w("Time remained: "),T=w(e[2]),R=A(),L=x("div"),D=x("div"),M=x("div"),U=A(),y&&y.c(),$(t,"class","score"),$(s,"class","progress"),$(g,"class","time"),$(M,"class","progress-value"),C(M,"width",e[1]+"%"),$(D,"id","progress"),$(D,"class","progress-full"),$(L,"class","progress-container"),C(L,"margin-bottom","10px")},m(l,a){h(l,t,a),b(t,n),b(t,o),b(t,i),b(t,c),h(l,_,a),h(l,s,a),b(s,d),b(s,u),b(s,O),h(l,p,a),h(l,g,a),b(g,B),b(g,T),h(l,R,a),h(l,L,a),b(L,D),b(D,M),h(l,U,a),y&&y.m(l,a),v=!0},p(l,a){(!v||a&1)&&r!==(r=l[0].points+"")&&F(o,r),(!v||a&1)&&f!==(f=l[0].initial_points+"")&&F(c,f),(!v||a&2)&&F(u,l[1]),(!v||a&4)&&F(T,l[2]),a&2&&C(M,"width",l[1]+"%"),y&&y.p&&(!v||a&16)&&ae(y,G,l,l[4],v?ue(G,l[4],a,null):de(l[4]),null)},i(l){v||(E(y,l),v=!0)},o(l){z(y,l),v=!1},d(l){l&&m(t),l&&m(_),l&&m(s),l&&m(p),l&&m(g),l&&m(R),l&&m(L),l&&m(U),y&&y.d(l)}}}function Oe(e){let t;return{c(){t=x("h2"),t.textContent="La partita deve ancora cominciare",C(t,"text-align","center")},m(n,r){h(n,t,r)},p:k,i:k,o:k,d(n){n&&m(t)}}}function je(e){let t;return{c(){t=x("h2"),t.textContent="La partita Ã¨ finita",C(t,"text-align","center")},m(n,r){h(n,t,r)},p:k,i:k,o:k,d(n){n&&m(t)}}}function Ee(e){let t,n,r=e[0]!=null&&Z(e);return{c(){t=x("div"),r&&r.c(),$(t,"class","box"),$(t,"data-color",e[3])},m(o,i){h(o,t,i),r&&r.m(t,null),n=!0},p(o,[i]){o[0]!=null?r?(r.p(o,i),i&1&&E(r,1)):(r=Z(o),r.c(),E(r,1),r.m(t,null)):r&&(oe(),z(r,1,1,()=>{r=null}),se()),(!n||i&8)&&$(t,"data-color",o[3])},i(o){n||(E(r),n=!0)},o(o){z(r),n=!1},d(o){o&&m(t),r&&r.d()}}}const Le=1e4,Se=800;function Ne(e,t,n){let{$$slots:r={},$$scope:o}=t;const i="";let f=null,c=0,_="",s="";async function d(){await(await fetch(i+"/data.json")).json()}async function u(){const p=await fetch(i+"/data.json");n(0,f=await p.json()),console.log(f),n(1,c=f.points*100/f.initial_points),c>60?n(3,s="green"):c>20?n(3,s="yellow"):n(3,s="red")}function O(){const p=new Date().getTime(),g=f.start_time==0?0:p/1e3-f.start_time,B=new Date(0).getTimezoneOffset(),T=Math.max(f.max_seconds_available-g,0);n(2,_=new Date(T*1e3+B*60*1e3).toLocaleTimeString().substring(0,8))}return d().then(async()=>{await u(),O(),setInterval(u,Le),setInterval(O,Se)}),e.$$set=p=>{"$$scope"in p&&n(4,o=p.$$scope)},[f,c,_,s,o,r]}class Te extends xe{constructor(t){super(),$e(this,t,Ne,Ee,le,{})}}export{Te as M,xe as S,z as a,$ as b,Pe as c,we as d,x as e,h as f,m as g,$e as i,be as m,k as n,le as s,E as t};
